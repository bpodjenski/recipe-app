<!-- views/home.ejs -->
<div class="container my-4">
    <input type="text" id="searchInput" class="form-control" placeholder="Search recipes..." />
</div>

<div class="container">
    <div class="row row-cols-1 row-cols-md-3 g-4" id="recipeContainer">
      <% recipes.forEach(recipe => { %>
        <%- include('partials/recipe-card', { recipe }) %>
      <% }) %>
    </div>
  </div>

  <script>
    const searchInput = document.getElementById('searchInput');
    const recipeCards = document.querySelectorAll('.recipe-card');
  
    searchInput.addEventListener('input', () => {
      const query = searchInput.value.toLowerCase();
  
      recipeCards.forEach(card => {
        const name = card.dataset.name;
        const notes = card.dataset.notes;
        const ingredients = card.querySelector('.ingredients-text')?.textContent.toLowerCase() || '';
  
        if (name.includes(query) || notes.includes(query) || ingredients.includes(query)) {
          card.style.display = '';
        } else {
          card.style.display = 'none';
        }
      });
    });
  </script>
